<html>
<head>
    <link rel="stylesheet" href="app/iosSimulator/iosSimulator.css">
    <style>
        *{
            padding: 0px;
            margin: 0px;
        }

        body{
            background-color: white;
        }

        .redBtn{
            position: absolute;
            right: 2px;
            top: 2px;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background-color: red;
        }

        .cloes-tag {
            position: absolute;
            width: 16px;
            height: 16px;
            left: 6px;
            top: 6px;
            border: none;
            cursor: pointer;
            opacity: 0;
            -webkit-transition: all 0.1s;
            -ms-transition: all 1s;
            -moz-transition: all 1s;
            -o-transition: all 1s;
            transition: all 1s;
        }
        .cloes-tag:hover{
            opacity: 1;
        }
        .cloes-tag:before,
        .cloes-tag:after {
            content: '';
            position: absolute;
            /*background-color: #000000;*/
            background-color: white;
            transform: rotate(45deg);
            -ms-transform: rotate(45deg);
            -webkit-transform: rotate(45deg);
            -o-transform: rotate(45deg);
            -moz-transform: rotate(45deg);
        }
        .cloes-tag:before {
            left: 45%;
            top: -10%;
            width: 10%;
            height: 120%;
        }
        .cloes-tag:after {
            top: 45%;
            left: -10%;
            width: 120%;
            height: 10%;
        }

        #taskBar{
            position: fixed;
            bottom: 0px;
            cursor: hand;
            width: 100%;
            height: 48px;
            background-color: #000000;
            opacity: 0.8;
            z-index: 999;
        }

        #taskBar .startBtn{
            position: relative;
            width: 80px;
            height: 40px;
            top: 4px;
            left: 4px;
            background-color: #000000;
            opacity: 0.8;
            color: white;
            cursor: pointer;
        }

        #taskBar #time{
            position: absolute;
            right: 0px;
            top: 0px;
            line-height: 48px;
            color: white;
        }

        button{
            border: none;
        }

        .app{
            position: absolute;
            width: 100%;
            height: 100%;
            /*height: auto;*/
            /*min-height: 100%;*/
            top: 50%;
            left: 50%;
            visibility: hidden;
            opacity: 0;
            background-color: white;
            z-index: 200;
            overflow: scroll;
            /*overflow: hidden;*/
            /*overflow: visible;*/

            -webkit-transition: all 0.4s;

            -webkit-transform: translateX(-50%) translateY(-50%) scale(0);
        }

        .app-start{
            visibility: visible;
            opacity: 1;
            -webkit-transform: translateX(-50%) translateY(-50%) scale(1);
        }

        .app header{
            width: 100%;
            height: 32px;
        }

        .app header .title{
            text-align: center;
        }

        #desktop{
            background-color: white;
            /*height: auto;*/
        }



        /**************app*******************/
        .testapp{
        }

        .appList div{
            box-sizing: border-box;
            float: left;
            width: 25%;
            padding-top: 25%;
            background-color: #004050;
            border: solid 2px white;
            cursor: hand;
            color: white;

            border-radius: 8px;
        }

        /******************color**********************************************/
        .app-color{
            /*background-color: #000000;*/
        }

        .app-color input{
            margin: 5px;
            border: solid 1px #000000;
            background: transparent;
            border-radius: 2px;
            outline: none;
            width: 200px;
            height: 28px;
            color: #000000;
        }

        .app-color header{
            background-color: white;
        }

        .app-color button{
            width: 100px;
            height: 28px;
            background-color: #000000;
            cursor: pointer;
            color: white;
            border-radius: 2px;
        }

    </style>
</head>
<body>

<div class="app app-start" id="desktop" data-app="apps">
    <div class="appList">
        <div data-app="test">test</div>
        <div data-app="color">color</div>
        <div data-app="iosSimulator">iosSimulator</div>
    </div>
</div>

<div id="taskBar">
    <button class="startBtn">Start</button>

    <p id="time">dadasdsa</p>
</div>

<!--*********************************************************app area****************-->

<!--TEMPLE:-->
    <!--<div class="app" data-app="[appName]">-->
        <!--<header>-->
            <!--<h2 class="title">[appName]</h2>-->
            <!--<div class="redBtn"><div class="cloes-tag" data-app="[appName]"></div></div>-->
        <!--</header>-->
    <!--</div>-->

<div class="app testapp" data-app="test">
    <header>
        <h2 class="title">Title</h2>
        <div class="redBtn"><div class="cloes-tag" data-app="test"></div></div>
    </header>
</div>

<div class="app app-color" data-app="color">
    <header>
        <h2 class="title">App-Color</h2>
        <div class="redBtn"><div class="cloes-tag" data-app="color"></div></div>
    </header>

    <input type="text" id="red" placeholder="R" maxlength="3">
    <input type="text" id="green" placeholder="G" maxlength="3">
    <input type="text" id="blue" placeholder="B" maxlength="3">
    <button class="color-get">GET</button>
    <input placeholder="HEX" id="hexval">
</div>

<div class="app app-iosSimulator" data-app="iosSimulator">
    <header>
        <h2 class="title">iosSimulator</h2>
        <div class="redBtn"><div class="cloes-tag" data-app="iosSimulator"></div></div>
    </header>

    <div class="window">
        <div class="untouchable-bg"></div>

        <div class="hamburg"></div>
        <div class="person-bg">
            <img class="img-bg" src="1111.png">
        </div>

        <div class="add-btn"></div>

        <div class="setting-box"></div>

        <div class="table-place">
            <div class="table-header">
                <div class="tabel-close-btn">close</div>
            </div>

            <div class="table-content">
                <ul>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                </ul>
            </div>
        </div>

        <div class="person-other">
            <div class="person-other-header">
                <div class="person-other-back">back</div>
            </div>
            <!--<div class="person-other-close"></div>-->
        </div>

        <div class="alter-view">

        </div>
    </div>
</div>

</body>

<script>
    var $ = function( obj ){
        return document.querySelector( obj );
    }

    var $n = function( obj ){
        return [].slice.call(document.querySelectorAll( obj ));
    }

    var desktop = {
        app: $('#desktop'),
        appStart: function( appName, code ){
            if( this.app.classList.contains( 'app-start' ) ){
                this.app.classList.remove( 'app-start' );
            }

            $n('.app').forEach(function(obj, i){
               var app = obj.getAttribute('data-app');
               if( app == appName ){
                   obj.classList.add('app-start');
               }
            });

            code();
        },
        appEnd: function( appName, code ){
            if( !this.app.classList.contains( 'app-start' ) ){
                this.app.classList.add( 'app-start' );
            }

            $n('.app').forEach(function(obj, i){
                var app = obj.getAttribute('data-app');
                if( app == appName ){
                    obj.classList.remove('app-start');
                }
            });

            code();
        }
    }

    $n('.applist div').forEach(function(obj, i){
        obj.addEventListener('click', function(){
            var appName = this.getAttribute('data-app');
            desktop.appStart( appName, function(){
                console.log(appName+' start');
            } );
        }, false);
    });

    $n('.cloes-tag').forEach(function(obj, i){
       obj.addEventListener('click', function(){
           var appName = this.getAttribute('data-app');
           desktop.appEnd(appName, function(){
               console.log(appName+' end');
           })
       }, false);
    });

    var time = new Date();
    $('#time').innerText = time;

</script>
<script src="app/color/color.js"></script>
<script src="app/iosSimulator/iosSimulator.js"></script>
</html>